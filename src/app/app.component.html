<form [formGroup]=" registrationForm">
  <h2>Register Form</h2>
  <div class="form-group">
    <label >UserName</label>
    <input [class.is-invalid]="registrationForm.get('userName')?.invalid && registrationForm.get('userName')?.touched" type="text" class="form-control" formControlName="userName" >
    <div *ngIf="registrationForm.get('userName')?.invalid && registrationForm.get('userName')?.touched">
      <small *ngIf="registrationForm.get('userName')?.errors?.['required']" class="text-danger">UserName is required</small>
      <small *ngIf="registrationForm.get('userName')?.errors?.['minlength']" class="text-danger">UserName minlength is 3 character</small>
      <small *ngIf="registrationForm.get('userName')?.errors?.['forbiddenName']" class="text-danger">{{registrationForm.get('userName')?.errors?.['forbiddenName'].value}} UserName is not allowed</small>
    </div> 
  </div>
  <div class="form-group">
    <label>Email</label>
    <input [class.is-invalid]="registrationForm.get('email')?.invalid && registrationForm.get('email')?.touched" type="text" class="form-control" formControlName="email">
    <small class="text-danger" [class.d-none]="registrationForm.get('email')?.valid ||registrationForm.get('email')?.untouched">Email is required</small>
  </div>
  <div class="form-group form-check mb-3">
    <input type="checkbox" class="form-check-input" formControlName="subscribe">
    <label class="form-check-label">Send me an promotional offers</label>
  </div>
  <div class="form-group">
    <label>Password</label>
    <input type="password" class="form-control" formControlName="passWord">
  </div>
  <div class="form-group">
    <label>Confirm Password</label>
    <input [class.in-valid]="registrationForm.errors?.['misMatch']" type="password" class="form-control" formControlName="confirmPassword">
    <small class="text-danger" *ngIf="registrationForm.errors?.['misMatch']">Password does not match</small>
  </div>
  <div formGroupName="address">
    <div class="form-group">
      <label>City</label>
      <input type="text" class="form-control" formControlName="city">
    </div>
    <div class="form-group">
      <label>State</label>
      <input type="text" class="form-control" formControlName="state">
    </div>
    <div class="form-group">
      <label>Postal Code</label>
      <input type="text" class="form-control" formControlName="postalCode">
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Register</button>
  <button (click)="loadApi()" type="button" class="btn btn-secondary">Load api</button>
</form>
{{registrationForm.value|json}}
<router-outlet></router-outlet>
